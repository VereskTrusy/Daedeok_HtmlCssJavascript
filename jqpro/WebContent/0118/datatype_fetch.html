<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>

<!-- 공통 CSS 스타일 -->
<link rel="stylesheet" href="../CSS/public.css">

<!-- 외부 자바 스크립트 파일 임포트 -->
<script type="text/javascript" src="../js/jquery-3.7.1.js"></script>

<!-- 자바 스크립트 본문 시작 -->
<script type="text/javascript">

/* objarrproc = () => {
	fetch("./objarr.jsp")
	.then(response => {
		
	})
	.then(data => {
		
	})
} */


/* objproc = () => {
	fetch("./obj.jsp")
	.then(response => {
		response.json();
	})
	.then(data => {
		//
		
		// 출력 내용 완성
		code = `이름 : ${} <br>`;
		
		// 출력
		
	})
} */

/* arrproc = () => {
	fetch("./arr.jsp")
	.then((response) =>{
		response.json(); 
	})
	.then(data => {
		data.forEach((value, index) =>{
			// 
		})
	});
} */

textproc = () =>{
	//promise = fetch('../0117/text.jsp')
	promise = fetch('http://192.168.142.32/jqpro/0117/text.jsp', {
		mode : 'cros'
	})
	.then(response => {
		console.log("response : ", response); // response 객체 확인 해보기, 개발자 도구 콘솔에서 찍은 객체에서 직접적인 data는 확인이안된다.
		return response.text(); // response 객체의 텍스트만 얻는 메서드
	})
	.then(data => {
		console.log(data); // 얻어온 데이터를 개발자도구 콘솔에 찍는건 가능함
		str = data.split("/");
		code = "<ul>";
		// str 배열을 이용해서 출력
		// 반복문
		/* str.forEach((value, index) => {
			
		}) */
		
		// 반복문
		$.each(str, function(index, value){
			code += "<li>" + str[index] + "</li>";
		})
		code += "</ul>";
		
		// 반복문
		/* $.each(str, (index, value) => {
			
		}) */
		
		$('#result1').html(code);
	});
	
	console.log(promise);
}

// 크로스오리진 ????
// https://inpa.tistory.com/entry/WEB-%F0%9F%93%9A-CORS-%F0%9F%92%AF-%EC%A0%95%EB%A6%AC-%ED%95%B4%EA%B2%B0-%EB%B0%A9%EB%B2%95-%F0%9F%91%8F

</script>
<!-- 자바 스크립트 본문 끝 -->

</head>
<body>

<div class="box">
	<h4></h4>
	<input type="button" id="text" value="btn1" onclick="textproc()">
	<input type="button" id="arr" value="btn1" onclick="arrproc()">
	<input type="button" id="jsonobj" value="btn1" onclick="objproc()">
	<input type="button" id="jobjarr" value="btn1" onclick="objarrproc()">
	<br><br>
	<div id="content">
		<div id="result1" class="res"></div>
		<div id="result2" class="res"></div>
		<div id="result3" class="res"></div>
		<div id="result4" class="res"></div>
	</div>
</div>

</body>
</html>